// short captions
#let in-outline = state("in-outline", false)
#show outline: it => {
    in-outline.update(true)
    it
    in-outline.update(false)
}
#let flex-caption(long, short) = locate(loc => 
    if in-outline.at(loc) { short } else { long }
)

#import"@preview/tablex:0.0.8": tablex, gridx, hlinex, vlinex, colspanx, rowspanx, cellx
 
#let lbg = rgb("#63aaff")
#let org = rgb("#6d5319")

#figure(
    gridx(
        columns: (auto, auto, auto, auto, auto, auto, ),
        stroke: auto,
        cellx(colspan: 3)[],
        cellx(colspan: 3, align: center)[Difference],
        hlinex(start: 3, stroke: gray + 0.01em),
        cellx()[],
        vlinex(start: 2, stroke: 0.05em),
        cellx()[Variable],
        cellx()[Contrast],
        cellx()[TPR],
        cellx()[FPR],
        cellx()[J],
        hlinex(start: 1, stroke: 0.05em),
        cellx()[1],
        cellx()[Age \ #text(fill: lbg)[95% CI] \ #text(fill: lbg)[_P_]],
        cellx()[30.97 > 14.0],
        cellx()[0.033 \ (0.001, 0.065) \ 0.0401],
        cellx()[0.021 \ (-0.009, 0.052) \ 0.1759],
        cellx()[0.012 \ (-0.029, 0.053) \ 0.5683],
        cellx()[2],
        cellx()[],
        cellx()[96.0 > 14.0],
        cellx()[0.025 \ (-0.049, 0.099) \ 0.5113],
        cellx()[0.357 \ (0.289, 0.425) \ 0.0],
        cellx()[-0.332 \ (-0.428, -0.236) \ 0.0],
        cellx()[3],
        cellx()[],
        cellx()[96.0 > 30.97],
        cellx()[-0.008 \ (-0.079, 0.062) \ 0.8206],
        cellx()[0.336 \ (0.271, 0.401) \ 0.0],
        cellx()[-0.344 \ (-0.436, -0.252) \ 0.0],
        hlinex(start: 1, stroke: 0.01em),
        cellx()[4],
        cellx()[Coffee cultivation],
        cellx()[Yes > No],
        cellx()[0.047 \ (0.014, 0.08) \ 0.0048],
        cellx()[0.032 \ (-0.007, 0.071) \ 0.1028],
        cellx()[0.015 \ (-0.032, 0.062) \ 0.5374],
        hlinex(start: 1, stroke: 0.01em),
        cellx()[5],
        cellx()[Degree],
        cellx()[18.0 > 1.0],
        cellx()[0.098 \ (0.052, 0.144) \ 0.0],
        cellx()[-0.07 \ (-0.111, -0.029) \ 0.0008],
        cellx()[0.168 \ (0.109, 0.227) \ 0.0],
        hlinex(start: 1, stroke: 0.01em),
        cellx()[6],
        cellx()[Education],
        cellx()[Some > No],
        cellx()[-0.02 \ (-0.048, 0.007) \ 0.1529],
        cellx()[-0.056 \ (-0.089, -0.024) \ 0.0007],
        cellx()[0.036 \ (-0.004, 0.077) \ 0.0792],
        cellx()[7],
        cellx()[],
        cellx()[Yes > No],
        cellx()[-0.052 \ (-0.083, -0.02) \ 0.0013],
        cellx()[-0.112 \ (-0.145, -0.078) \ 0.0],
        cellx()[0.06 \ (0.017, 0.103) \ 0.0066],
        cellx()[8],
        cellx()[],
        cellx()[Yes > Some],
        cellx()[-0.032 \ (-0.06, -0.003) \ 0.0292],
        cellx()[-0.055 \ (-0.085, -0.026) \ 0.0002],
        cellx()[0.024 \ (-0.014, 0.062) \ 0.2197],
        hlinex(start: 1, stroke: 0.01em),
        cellx()[9],
        cellx()[Gender],
        cellx()[Woman > Man],
        cellx()[-0.01 \ (-0.035, 0.016) \ 0.4582],
        cellx()[-0.029 \ (-0.058, -0.001) \ 0.0453],
        cellx()[0.02 \ (-0.016, 0.055) \ 0.2782],
        hlinex(start: 1, stroke: 0.01em),
        cellx()[10],
        cellx()[Indigeneity],
        cellx()[Mestizo > Indigenous],
        cellx()[-0.003 \ (-0.036, 0.031) \ 0.8803],
        cellx()[-0.022 \ (-0.056, 0.013) \ 0.2191],
        cellx()[0.019 \ (-0.027, 0.065) \ 0.4157],
        hlinex(start: 1, stroke: 0.01em),
        cellx()[11],
        cellx()[Religion],
        cellx()[No Religion > Catholic],
        cellx()[-0.005 \ (-0.052, 0.043) \ 0.8495],
        cellx()[0.01 \ (-0.037, 0.057) \ 0.6783],
        cellx()[-0.015 \ (-0.077, 0.048) \ 0.6479],
        cellx()[12],
        cellx()[],
        cellx()[Protestant > Catholic],
        cellx()[0.009 \ (-0.016, 0.035) \ 0.4648],
        cellx()[-0.011 \ (-0.04, 0.018) \ 0.4602],
        cellx()[0.02 \ (-0.016, 0.056) \ 0.2679],
        cellx()[13],
        cellx()[],
        cellx()[Protestant > No Religion],
        cellx()[0.014 \ (-0.033, 0.062) \ 0.5612],
        cellx()[-0.021 \ (-0.068, 0.026) \ 0.3876],
        cellx()[0.035 \ (-0.028, 0.097) \ 0.2732],
        hlinex(start: 1, stroke: 0.01em),
        cellx()[14],
        cellx()[Wealth],
        cellx()[1.0 > 0.07],
        cellx()[-0.122 \ (-0.163, -0.08) \ 0.0],
        cellx()[-0.208 \ (-0.25, -0.166) \ 0.0],
        cellx()[0.086 \ (0.031, 0.142) \ 0.0023],
        vlinex(start: 2, stroke: 0.05em),
        hlinex(start: 1, stroke: 0.05em),
    ),
    caption: flex-caption(
	[Contrasts for respondent and village characteristics, limited distance ($D_(k[i j]r) lt.eq 3$). Each accuracy measure represents the difference between the predicted value for each level of the contrast. 95% confidence intervals are presented in parentheses below the mean estimates. The corresponding p-values are presented below the intervals, and are rounded to 5 digits.],
	[Contrasts for respondent and village characteristics, limited distance ($D_(k[i j]r) lt.eq 3$).]
),
    kind: table,
) <contrast_tie_resp_bs_lt_3>
