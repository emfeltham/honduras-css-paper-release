// short captions
#let in-outline = state("in-outline", false)
#show outline: it => {
    in-outline.update(true)
    it
    in-outline.update(false)
}
#let flex-caption(long, short) = locate(loc => 
    if in-outline.at(loc) { short } else { long }
)

#import"@preview/tablex:0.0.8": tablex, gridx, hlinex, vlinex, colspanx, rowspanx, cellx

// table params
#let col1width = 10em
#let coliwidth = auto
#let name_align = left + horizon
// pkey 
#let ps = (super[$+$], super[$star.op$], super[$star.op star.op$], super[$star.op star.op star.op$], )
 
#figure(
    gridx(
        columns: (col1width, coliwidth, coliwidth, ),
        rows: (0.2em, 2em),
        align: center + horizon,
        stroke: auto,
        hlinex(y: 0, stroke: 0.05em),
        cellx(x: 0, y: 0, colspan: 3)[],
        hlinex(y: 1, stroke: 0.05em),
        cellx(x: 1, y: 1)[(TPR)],
        cellx(x: 2, y: 1)[(FPR)],
        hlinex(start: 1, y: 2, stroke: 0.05em),
        cellx(x: 0, y: 78, align: name_align)[dists_a_notinf],
        cellx(x: 2, y: 78)[1.4426#ps.at(3)],
        cellx(x: 2, y: 79)[[1.2518, 1.6335]],
        cellx(x: 0, y: 36, align: name_align)[isindigenous_a: Mestizo],
        cellx(x: 1, y: 36)[0.2136],
        cellx(x: 1, y: 37)[[-0.0513, 0.4786]],
        cellx(x: 2, y: 36)[-0.1174],
        cellx(x: 2, y: 37)[[-0.2728, 0.0381]],
        cellx(x: 0, y: 20, align: name_align)[religion_c: No Religion],
        cellx(x: 1, y: 20)[-0.2843],
        cellx(x: 1, y: 21)[[-0.7573, 0.1887]],
        cellx(x: 2, y: 20)[-0.1666],
        cellx(x: 2, y: 21)[[-0.5545, 0.2213]],
        cellx(x: 0, y: 80, align: name_align)[dists_a_notinf & dists_a],
        cellx(x: 2, y: 80)[-5.4627#ps.at(3)],
        cellx(x: 2, y: 81)[[-5.7641, -5.1613]],
        cellx(x: 0, y: 44, align: name_align)[degree_diff_a],
        cellx(x: 1, y: 44)[0.7095#ps.at(3)],
        cellx(x: 1, y: 45)[[0.3447, 1.0743]],
        cellx(x: 2, y: 44)[-0.0032],
        cellx(x: 2, y: 45)[[-0.2277, 0.2212]],
        cellx(x: 0, y: 46, align: name_align)[age_mean_a],
        cellx(x: 1, y: 46)[-1.9191#ps.at(3)],
        cellx(x: 1, y: 47)[[-2.4613, -1.3769]],
        cellx(x: 2, y: 46)[0.9109#ps.at(3)],
        cellx(x: 2, y: 47)[[0.6118, 1.2099]],
        cellx(x: 0, y: 18, align: name_align)[educated: Yes],
        cellx(x: 1, y: 18)[-0.3456#ps.at(2)],
        cellx(x: 1, y: 19)[[-0.5848, -0.1063]],
        cellx(x: 2, y: 18)[-0.5928#ps.at(3)],
        cellx(x: 2, y: 19)[[-0.7993, -0.3862]],
        cellx(x: 0, y: 70, align: name_align)[age & age_mean_a],
        cellx(x: 1, y: 70)[2.5537#ps.at(3)],
        cellx(x: 1, y: 71)[[1.1153, 3.992]],
        cellx(x: 2, y: 70)[0.0591],
        cellx(x: 2, y: 71)[[-0.7333, 0.8514]],
        cellx(x: 0, y: 52, align: name_align)[wealth_d1_4_diff_a],
        cellx(x: 1, y: 52)[-2.5614#ps.at(3)],
        cellx(x: 1, y: 53)[[-2.8913, -2.2315]],
        cellx(x: 2, y: 52)[-1.9754#ps.at(3)],
        cellx(x: 2, y: 53)[[-2.1592, -1.7915]],
        cellx(x: 0, y: 76, align: name_align)[dists_p_notinf & dists_p],
        cellx(x: 1, y: 76)[-1.4891#ps.at(3)],
        cellx(x: 1, y: 77)[[-1.9286, -1.0497]],
        cellx(x: 2, y: 76)[0.2632#ps.at(0)],
        cellx(x: 2, y: 77)[[-0.0478, 0.5742]],
        cellx(x: 0, y: 22, align: name_align)[religion_c: Protestant],
        cellx(x: 1, y: 22)[-0.0371],
        cellx(x: 1, y: 23)[[-0.2236, 0.1495]],
        cellx(x: 2, y: 22)[-0.0003],
        cellx(x: 2, y: 23)[[-0.1496, 0.149]],
        cellx(x: 0, y: 24, align: name_align)[wealth_d1_4],
        cellx(x: 1, y: 24)[-4.5294#ps.at(3)],
        cellx(x: 1, y: 25)[[-6.0248, -3.0341]],
        cellx(x: 2, y: 24)[-2.7212#ps.at(3)],
        cellx(x: 2, y: 25)[[-3.6835, -1.7589]],
        cellx(x: 0, y: 56, align: name_align)[man & man_a: Mixed],
        cellx(x: 1, y: 56)[-0.4932#ps.at(3)],
        cellx(x: 1, y: 57)[[-0.7672, -0.2193]],
        cellx(x: 2, y: 56)[0.0026],
        cellx(x: 2, y: 57)[[-0.1513, 0.1564]],
        cellx(x: 0, y: 12, align: name_align)[age],
        cellx(x: 1, y: 12)[-1.0827],
        cellx(x: 1, y: 13)[[-2.3917, 0.2263]],
        cellx(x: 2, y: 12)[-1.199#ps.at(1)],
        cellx(x: 2, y: 13)[[-2.259, -0.1389]],
        cellx(x: 0, y: 74, align: name_align)[kinship & relation: personal_private],
        cellx(x: 1, y: 74)[1.0542#ps.at(1)],
        cellx(x: 1, y: 75)[[0.2832, 1.8253]],
        cellx(x: 2, y: 74)[0.5356#ps.at(1)],
        cellx(x: 2, y: 75)[[0.0613, 1.01]],
        cellx(x: 0, y: 4, align: name_align)[kinship],
        cellx(x: 1, y: 4)[3.966#ps.at(3)],
        cellx(x: 1, y: 5)[[3.3366, 4.5953]],
        cellx(x: 2, y: 4)[6.3004#ps.at(3)],
        cellx(x: 2, y: 5)[[5.9483, 6.6525]],
        cellx(x: 0, y: 60, align: name_align)[isindigenous_a: Mestizo & isindigenous],
        cellx(x: 1, y: 60)[-0.1519],
        cellx(x: 1, y: 61)[[-0.5608, 0.257]],
        cellx(x: 2, y: 60)[0.0535],
        cellx(x: 2, y: 61)[[-0.1883, 0.2953]],
        cellx(x: 0, y: 48, align: name_align)[age_diff_a],
        cellx(x: 1, y: 48)[1.5515#ps.at(3)],
        cellx(x: 1, y: 49)[[1.2394, 1.8636]],
        cellx(x: 2, y: 48)[-0.5738#ps.at(3)],
        cellx(x: 2, y: 49)[[-0.7244, -0.4232]],
        cellx(x: 0, y: 58, align: name_align)[man & man_a: Women],
        cellx(x: 1, y: 58)[-0.4086#ps.at(2)],
        cellx(x: 1, y: 59)[[-0.6524, -0.1647]],
        cellx(x: 2, y: 58)[0.0636],
        cellx(x: 2, y: 59)[[-0.0967, 0.2239]],
        cellx(x: 0, y: 32, align: name_align)[man_a: Mixed],
        cellx(x: 1, y: 32)[1.0657#ps.at(3)],
        cellx(x: 1, y: 33)[[0.8977, 1.2338]],
        cellx(x: 2, y: 32)[-0.2815#ps.at(3)],
        cellx(x: 2, y: 33)[[-0.3769, -0.1862]],
        cellx(x: 0, y: 14, align: name_align)[age ^ 2],
        cellx(x: 1, y: 14)[0.7303],
        cellx(x: 1, y: 15)[[-0.7244, 2.185]],
        cellx(x: 2, y: 14)[2.7159#ps.at(3)],
        cellx(x: 2, y: 15)[[1.4749, 3.9569]],
        cellx(x: 0, y: 28, align: name_align)[isindigenous],
        cellx(x: 1, y: 28)[0.3167#ps.at(0)],
        cellx(x: 1, y: 29)[[-0.0047, 0.6382]],
        cellx(x: 2, y: 28)[0.1592],
        cellx(x: 2, y: 29)[[-0.0794, 0.3977]],
        cellx(x: 0, y: 42, align: name_align)[degree_mean_a],
        cellx(x: 1, y: 42)[-2.6048#ps.at(3)],
        cellx(x: 1, y: 43)[[-3.2875, -1.922]],
        cellx(x: 2, y: 42)[-1.2719#ps.at(3)],
        cellx(x: 2, y: 43)[[-1.7135, -0.8303]],
        cellx(x: 0, y: 2, align: name_align)[(Intercept)],
        cellx(x: 1, y: 2)[3.6578#ps.at(3)],
        cellx(x: 1, y: 3)[[2.6437, 4.6719]],
        cellx(x: 2, y: 2)[0.9267#ps.at(1)],
        cellx(x: 2, y: 3)[[0.2259, 1.6274]],
        cellx(x: 0, y: 34, align: name_align)[man_a: Women],
        cellx(x: 1, y: 34)[0.5678#ps.at(3)],
        cellx(x: 1, y: 35)[[0.4218, 0.7138]],
        cellx(x: 2, y: 34)[-0.1624#ps.at(2)],
        cellx(x: 2, y: 35)[[-0.2606, -0.0642]],
        cellx(x: 0, y: 38, align: name_align)[isindigenous_a: Mixed],
        cellx(x: 1, y: 38)[0.251#ps.at(0)],
        cellx(x: 1, y: 39)[[-0.0136, 0.5156]],
        cellx(x: 2, y: 38)[-0.0812],
        cellx(x: 2, y: 39)[[-0.226, 0.0635]],
        cellx(x: 0, y: 64, align: name_align)[religion_c: No Religion & religion_c_a: Mixed],
        cellx(x: 1, y: 64)[0.0929],
        cellx(x: 1, y: 65)[[-0.4708, 0.6567]],
        cellx(x: 2, y: 64)[0.3322#ps.at(0)],
        cellx(x: 2, y: 65)[[-0.0188, 0.6833]],
        cellx(x: 0, y: 10, align: name_align)[man],
        cellx(x: 1, y: 10)[0.3004#ps.at(1)],
        cellx(x: 1, y: 11)[[0.0704, 0.5303]],
        cellx(x: 2, y: 10)[0.0563],
        cellx(x: 2, y: 11)[[-0.118, 0.2306]],
        cellx(x: 0, y: 16, align: name_align)[educated: Some],
        cellx(x: 1, y: 16)[-0.1397],
        cellx(x: 1, y: 17)[[-0.3409, 0.0615]],
        cellx(x: 2, y: 16)[-0.2746#ps.at(2)],
        cellx(x: 2, y: 17)[[-0.4455, -0.1036]],
        cellx(x: 0, y: 6, align: name_align)[relation: personal_private],
        cellx(x: 1, y: 6)[-0.3835#ps.at(3)],
        cellx(x: 1, y: 7)[[-0.5083, -0.2588]],
        cellx(x: 2, y: 6)[-0.2106#ps.at(3)],
        cellx(x: 2, y: 7)[[-0.2865, -0.1348]],
        cellx(x: 0, y: 26, align: name_align)[coffee_cultivation],
        cellx(x: 1, y: 26)[0.2861],
        cellx(x: 1, y: 27)[[-0.0667, 0.6388]],
        cellx(x: 2, y: 26)[0.2753],
        cellx(x: 2, y: 27)[[-0.1196, 0.6703]],
        cellx(x: 0, y: 30, align: name_align)[educated_a: Same],
        cellx(x: 1, y: 30)[0.2375#ps.at(3)],
        cellx(x: 1, y: 31)[[0.1451, 0.3299]],
        cellx(x: 2, y: 30)[0.0355],
        cellx(x: 2, y: 31)[[-0.0143, 0.0852]],
        cellx(x: 0, y: 50, align: name_align)[wealth_d1_4_mean_a],
        cellx(x: 1, y: 50)[-2.8126#ps.at(3)],
        cellx(x: 1, y: 51)[[-4.283, -1.3422]],
        cellx(x: 2, y: 50)[-1.3251#ps.at(2)],
        cellx(x: 2, y: 51)[[-2.2167, -0.4334]],
        cellx(x: 0, y: 62, align: name_align)[isindigenous_a: Mixed & isindigenous],
        cellx(x: 1, y: 62)[-0.0094],
        cellx(x: 1, y: 63)[[-0.3877, 0.3689]],
        cellx(x: 2, y: 62)[0.0856],
        cellx(x: 2, y: 63)[[-0.1066, 0.2778]],
        cellx(x: 0, y: 8, align: name_align)[degree],
        cellx(x: 1, y: 8)[0.0053],
        cellx(x: 1, y: 9)[[-1.0045, 1.0152]],
        cellx(x: 2, y: 8)[-0.1948],
        cellx(x: 2, y: 9)[[-0.728, 0.3383]],
        cellx(x: 0, y: 54, align: name_align)[dists_p_notinf],
        cellx(x: 1, y: 54)[0.4385#ps.at(3)],
        cellx(x: 1, y: 55)[[0.1844, 0.6927]],
        cellx(x: 2, y: 54)[0.0115],
        cellx(x: 2, y: 55)[[-0.161, 0.184]],
        cellx(x: 0, y: 40, align: name_align)[religion_c_a: Mixed],
        cellx(x: 1, y: 40)[-0.458#ps.at(3)],
        cellx(x: 1, y: 41)[[-0.5926, -0.3234]],
        cellx(x: 2, y: 40)[-0.4414#ps.at(3)],
        cellx(x: 2, y: 41)[[-0.5141, -0.3687]],
        cellx(x: 0, y: 66, align: name_align)[religion_c: Protestant & religion_c_a: Mixed],
        cellx(x: 1, y: 66)[0.2121#ps.at(0)],
        cellx(x: 1, y: 67)[[-0.0046, 0.4288]],
        cellx(x: 2, y: 66)[0.2204#ps.at(3)],
        cellx(x: 2, y: 67)[[0.0967, 0.3441]],
        cellx(x: 0, y: 68, align: name_align)[degree & degree_mean_a],
        cellx(x: 1, y: 68)[1.7836],
        cellx(x: 1, y: 69)[[-1.6534, 5.2207]],
        cellx(x: 2, y: 68)[2.2156#ps.at(1)],
        cellx(x: 2, y: 69)[[0.0938, 4.3373]],
        cellx(x: 0, y: 72, align: name_align)[wealth_d1_4 & wealth_d1_4_mean_a],
        cellx(x: 1, y: 72)[6.0373#ps.at(3)],
        cellx(x: 1, y: 73)[[3.6242, 8.4504]],
        cellx(x: 2, y: 72)[2.9961#ps.at(3)],
        cellx(x: 2, y: 73)[[1.5218, 4.4704]],
        hlinex(start: 1, y: 82, stroke: 0.05em),
        cellx(x: 0, y: 82, align: name_align)[perceiver var.],
        cellx(x: 0, y: 83, align: name_align)[village_code var.],
        cellx(x: 0, y: 84, align: name_align)[N#sub[groups]],
        cellx(x: 1, y: 82)[1.1015],
        cellx(x: 1, y: 83)[0.2739],
        cellx(x: 1, y: 84)[2236, 17],
        cellx(x: 2, y: 82)[1.1983],
        cellx(x: 2, y: 83)[0.3369],
        cellx(x: 2, y: 84)[2259, 17],
        hlinex(start: 1, y: 85, stroke: 0.05em),
        cellx(x: 0, y: 87, align: name_align)[N],
        cellx(x: 0, y: 86, align: name_align)[BIC],
        cellx(x: 0, y: 85, align: name_align)[AIC],
        cellx(x: 1, y: 87)[17355],
        cellx(x: 1, y: 86)[15941.0579],
        cellx(x: 1, y: 85)[15630.5925],
        cellx(x: 2, y: 87)[42198],
        cellx(x: 2, y: 86)[47740.1481],
        cellx(x: 2, y: 85)[47376.8427],
        hlinex(y: 88, stroke: 0.1em),
        cellx(y: 88, colspan: 3, align: left)[Note: #ps.at(0)$p<0.1$; #ps.at(1)$p<0.05$; #ps.at(2)$p<0.005$; #ps.at(3)$p<0.001$],
    ),
    caption: flex-caption(
[Response models, genetic relatedness. Models of the response, for TPR and FPR.],
[Response models, genetic relatedness]
),
    kind: table,
) <kinship_models>
