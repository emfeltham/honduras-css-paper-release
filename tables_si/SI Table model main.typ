#import"@preview/tablex:0.0.8": tablex, gridx, hlinex, vlinex, colspanx, rowspanx, cellx

// short captions
#let in-outline = state("in-outline", false)
#show outline: it => {
    in-outline.update(true)
    it
    in-outline.update(false)
}
#let flex-caption(long, short) = locate(loc => 
    if in-outline.at(loc) { short } else { long }
)

// table params
#let col1width = 10em
#let coliwidth = auto
#let name_align = left + horizon
// pkey 
#let ps = (super[$+$], super[$star.op$], super[$star.op star.op$], super[$star.op star.op star.op$], )
 
#figure(
    gridx(
        columns: (auto, auto, auto, ),
        rows: (0.2em, 1.5em),
        align: center + horizon,
        stroke: auto,
        hlinex(y: 0, stroke: 0.05em),
        cellx(x: 0, y: 0, colspan: 3)[],
        hlinex(y: 1, stroke: 0.05em),
        cellx(x: 1, y: 1)[(TPR)],
        cellx(x: 2, y: 1)[(FPR)],
        hlinex(start: 1, y: 2, stroke: 0.05em),
        cellx(x: 0, y: 78, align: name_align)[dists_a_notinf],
        cellx(x: 2, y: 78)[0.896#ps.at(3)],
        cellx(x: 2, y: 79)[[0.8313, 0.9607]],
        cellx(x: 0, y: 36, align: name_align)[isindigenous_a: Mestizo],
        cellx(x: 1, y: 36)[0.092#ps.at(0)],
        cellx(x: 1, y: 37)[[-0.0086, 0.1927]],
        cellx(x: 2, y: 36)[0.0239],
        cellx(x: 2, y: 37)[[-0.0363, 0.0841]],
        cellx(x: 0, y: 20, align: name_align)[religion_c: No Religion],
        cellx(x: 1, y: 20)[-0.1704#ps.at(0)],
        cellx(x: 1, y: 21)[[-0.3685, 0.0277]],
        cellx(x: 2, y: 20)[-0.0642],
        cellx(x: 2, y: 21)[[-0.2375, 0.1091]],
        cellx(x: 0, y: 80, align: name_align)[dists_a_notinf & dists_a],
        cellx(x: 2, y: 80)[-3.425#ps.at(3)],
        cellx(x: 2, y: 81)[[-3.5289, -3.3211]],
        cellx(x: 0, y: 44, align: name_align)[degree_diff_a],
        cellx(x: 1, y: 44)[0.2234#ps.at(2)],
        cellx(x: 1, y: 45)[[0.086, 0.3608]],
        cellx(x: 2, y: 44)[0.264#ps.at(3)],
        cellx(x: 2, y: 45)[[0.1823, 0.3457]],
        cellx(x: 0, y: 46, align: name_align)[age_mean_a],
        cellx(x: 1, y: 46)[-2.6279#ps.at(3)],
        cellx(x: 1, y: 47)[[-2.8027, -2.453]],
        cellx(x: 2, y: 46)[-0.52#ps.at(3)],
        cellx(x: 2, y: 47)[[-0.6213, -0.4187]],
        cellx(x: 0, y: 18, align: name_align)[educated: Yes],
        cellx(x: 1, y: 18)[-0.2628#ps.at(3)],
        cellx(x: 1, y: 19)[[-0.3673, -0.1583]],
        cellx(x: 2, y: 18)[-0.5599#ps.at(3)],
        cellx(x: 2, y: 19)[[-0.6625, -0.4573]],
        cellx(x: 0, y: 70, align: name_align)[age & age_mean_a],
        cellx(x: 1, y: 70)[4.2899#ps.at(3)],
        cellx(x: 1, y: 71)[[3.825, 4.7549]],
        cellx(x: 2, y: 70)[1.3273#ps.at(3)],
        cellx(x: 2, y: 71)[[1.0613, 1.5932]],
        cellx(x: 0, y: 52, align: name_align)[wealth_d1_4_diff_a],
        cellx(x: 1, y: 52)[-1.4064#ps.at(3)],
        cellx(x: 1, y: 53)[[-1.5187, -1.2942]],
        cellx(x: 2, y: 52)[-1.034#ps.at(3)],
        cellx(x: 2, y: 53)[[-1.0931, -0.9749]],
        cellx(x: 0, y: 76, align: name_align)[dists_p_notinf & dists_p],
        cellx(x: 1, y: 76)[-2.0459#ps.at(3)],
        cellx(x: 1, y: 77)[[-2.2024, -1.8894]],
        cellx(x: 2, y: 76)[-1.4298#ps.at(3)],
        cellx(x: 2, y: 77)[[-1.5387, -1.3208]],
        cellx(x: 0, y: 22, align: name_align)[religion_c: Protestant],
        cellx(x: 1, y: 22)[-0.1281#ps.at(2)],
        cellx(x: 1, y: 23)[[-0.211, -0.0453]],
        cellx(x: 2, y: 22)[-0.1682#ps.at(3)],
        cellx(x: 2, y: 23)[[-0.2416, -0.0948]],
        cellx(x: 0, y: 24, align: name_align)[wealth_d1_4],
        cellx(x: 1, y: 24)[-2.669#ps.at(3)],
        cellx(x: 1, y: 25)[[-3.1472, -2.1909]],
        cellx(x: 2, y: 24)[-3.255#ps.at(3)],
        cellx(x: 2, y: 25)[[-3.5871, -2.9228]],
        cellx(x: 0, y: 56, align: name_align)[man & man_a: Mixed],
        cellx(x: 1, y: 56)[-0.4138#ps.at(3)],
        cellx(x: 1, y: 57)[[-0.5037, -0.3238]],
        cellx(x: 2, y: 56)[-0.1725#ps.at(3)],
        cellx(x: 2, y: 57)[[-0.2173, -0.1277]],
        cellx(x: 0, y: 12, align: name_align)[age],
        cellx(x: 1, y: 12)[-0.1027],
        cellx(x: 1, y: 13)[[-0.6606, 0.4551]],
        cellx(x: 2, y: 12)[0.0046],
        cellx(x: 2, y: 13)[[-0.5223, 0.5316]],
        cellx(x: 0, y: 60, align: name_align)[isindigenous_a: Mestizo & isindigenous],
        cellx(x: 1, y: 60)[-0.1452#ps.at(0)],
        cellx(x: 1, y: 61)[[-0.2987, 0.0084]],
        cellx(x: 2, y: 60)[-0.0853#ps.at(0)],
        cellx(x: 2, y: 61)[[-0.1753, 0.0048]],
        cellx(x: 0, y: 48, align: name_align)[age_diff_a],
        cellx(x: 1, y: 48)[1.3849#ps.at(3)],
        cellx(x: 1, y: 49)[[1.2848, 1.4849]],
        cellx(x: 2, y: 48)[0.1239#ps.at(3)],
        cellx(x: 2, y: 49)[[0.075, 0.1728]],
        cellx(x: 0, y: 58, align: name_align)[man & man_a: Women],
        cellx(x: 1, y: 58)[-0.3441#ps.at(3)],
        cellx(x: 1, y: 59)[[-0.4203, -0.2679]],
        cellx(x: 2, y: 58)[-0.0872#ps.at(3)],
        cellx(x: 2, y: 59)[[-0.1353, -0.0391]],
        cellx(x: 0, y: 32, align: name_align)[man_a: Mixed],
        cellx(x: 1, y: 32)[0.3141#ps.at(3)],
        cellx(x: 1, y: 33)[[0.2575, 0.3707]],
        cellx(x: 2, y: 32)[-0.606#ps.at(3)],
        cellx(x: 2, y: 33)[[-0.6344, -0.5775]],
        cellx(x: 0, y: 14, align: name_align)[age ^ 2],
        cellx(x: 1, y: 14)[-1.4378#ps.at(3)],
        cellx(x: 1, y: 15)[[-2.1011, -0.7745]],
        cellx(x: 2, y: 14)[1.1254#ps.at(3)],
        cellx(x: 2, y: 15)[[0.4788, 1.772]],
        cellx(x: 0, y: 74, align: name_align)[kin431 & relation: personal_private],
        cellx(x: 1, y: 74)[0.2571#ps.at(3)],
        cellx(x: 1, y: 75)[[0.1877, 0.3264]],
        cellx(x: 2, y: 74)[0.2411#ps.at(3)],
        cellx(x: 2, y: 75)[[0.1975, 0.2847]],
        cellx(x: 0, y: 28, align: name_align)[isindigenous],
        cellx(x: 1, y: 28)[0.1952#ps.at(1)],
        cellx(x: 1, y: 29)[[0.0538, 0.3367]],
        cellx(x: 2, y: 28)[0.029],
        cellx(x: 2, y: 29)[[-0.0856, 0.1436]],
        cellx(x: 0, y: 42, align: name_align)[degree_mean_a],
        cellx(x: 1, y: 42)[-1.3928#ps.at(3)],
        cellx(x: 1, y: 43)[[-1.6444, -1.1412]],
        cellx(x: 2, y: 42)[-1.3856#ps.at(3)],
        cellx(x: 2, y: 43)[[-1.5488, -1.2225]],
        cellx(x: 0, y: 2, align: name_align)[(Intercept)],
        cellx(x: 1, y: 2)[1.9512#ps.at(3)],
        cellx(x: 1, y: 3)[[1.6208, 2.2816]],
        cellx(x: 2, y: 2)[1.0782#ps.at(3)],
        cellx(x: 2, y: 3)[[0.8264, 1.33]],
        cellx(x: 0, y: 34, align: name_align)[man_a: Women],
        cellx(x: 1, y: 34)[0.4255#ps.at(3)],
        cellx(x: 1, y: 35)[[0.3793, 0.4717]],
        cellx(x: 2, y: 34)[-0.113#ps.at(3)],
        cellx(x: 2, y: 35)[[-0.1427, -0.0834]],
        cellx(x: 0, y: 38, align: name_align)[isindigenous_a: Mixed],
        cellx(x: 1, y: 38)[0.0242],
        cellx(x: 1, y: 39)[[-0.0768, 0.1252]],
        cellx(x: 2, y: 38)[-0.0404],
        cellx(x: 2, y: 39)[[-0.0989, 0.0181]],
        cellx(x: 0, y: 64, align: name_align)[religion_c: No Religion & religion_c_a: Mixed],
        cellx(x: 1, y: 64)[0.2127#ps.at(1)],
        cellx(x: 1, y: 65)[[0.0229, 0.4026]],
        cellx(x: 2, y: 64)[0.2449#ps.at(3)],
        cellx(x: 2, y: 65)[[0.1366, 0.3532]],
        cellx(x: 0, y: 10, align: name_align)[man],
        cellx(x: 1, y: 10)[0.3294#ps.at(3)],
        cellx(x: 1, y: 11)[[0.249, 0.4098]],
        cellx(x: 2, y: 10)[0.2604#ps.at(3)],
        cellx(x: 2, y: 11)[[0.1906, 0.3302]],
        cellx(x: 0, y: 16, align: name_align)[educated: Some],
        cellx(x: 1, y: 16)[-0.1134#ps.at(1)],
        cellx(x: 1, y: 17)[[-0.1968, -0.03]],
        cellx(x: 2, y: 16)[-0.297#ps.at(3)],
        cellx(x: 2, y: 17)[[-0.3782, -0.2158]],
        cellx(x: 0, y: 6, align: name_align)[relation: personal_private],
        cellx(x: 1, y: 6)[-0.438#ps.at(3)],
        cellx(x: 1, y: 7)[[-0.4733, -0.4027]],
        cellx(x: 2, y: 6)[-0.2773#ps.at(3)],
        cellx(x: 2, y: 7)[[-0.2947, -0.2599]],
        cellx(x: 0, y: 26, align: name_align)[coffee_cultivation],
        cellx(x: 1, y: 26)[0.228#ps.at(3)],
        cellx(x: 1, y: 27)[[0.1017, 0.3542]],
        cellx(x: 2, y: 26)[0.1419#ps.at(0)],
        cellx(x: 2, y: 27)[[-0.0109, 0.2946]],
        cellx(x: 0, y: 30, align: name_align)[educated_a: Same],
        cellx(x: 1, y: 30)[-0.004],
        cellx(x: 1, y: 31)[[-0.0349, 0.0269]],
        cellx(x: 2, y: 30)[0.0355#ps.at(3)],
        cellx(x: 2, y: 31)[[0.019, 0.0519]],
        cellx(x: 0, y: 4, align: name_align)[kin431],
        cellx(x: 1, y: 4)[2.5249#ps.at(3)],
        cellx(x: 1, y: 5)[[2.4689, 2.5808]],
        cellx(x: 2, y: 4)[3.1398#ps.at(3)],
        cellx(x: 2, y: 5)[[3.1069, 3.1728]],
        cellx(x: 0, y: 50, align: name_align)[wealth_d1_4_mean_a],
        cellx(x: 1, y: 50)[-0.6013#ps.at(1)],
        cellx(x: 1, y: 51)[[-1.0524, -0.1503]],
        cellx(x: 2, y: 50)[-1.2211#ps.at(3)],
        cellx(x: 2, y: 51)[[-1.495, -0.9471]],
        cellx(x: 0, y: 62, align: name_align)[isindigenous_a: Mixed & isindigenous],
        cellx(x: 1, y: 62)[-0.012],
        cellx(x: 1, y: 63)[[-0.1523, 0.1284]],
        cellx(x: 2, y: 62)[0.0332],
        cellx(x: 2, y: 63)[[-0.044, 0.1103]],
        cellx(x: 0, y: 8, align: name_align)[degree],
        cellx(x: 1, y: 8)[-0.3#ps.at(0)],
        cellx(x: 1, y: 9)[[-0.6568, 0.0568]],
        cellx(x: 2, y: 8)[-0.6712#ps.at(3)],
        cellx(x: 2, y: 9)[[-0.8572, -0.4852]],
        cellx(x: 0, y: 54, align: name_align)[dists_p_notinf],
        cellx(x: 1, y: 54)[0.555#ps.at(3)],
        cellx(x: 1, y: 55)[[0.4673, 0.6426]],
        cellx(x: 2, y: 54)[0.473#ps.at(3)],
        cellx(x: 2, y: 55)[[0.4115, 0.5344]],
        cellx(x: 0, y: 40, align: name_align)[religion_c_a: Mixed],
        cellx(x: 1, y: 40)[-0.2367#ps.at(3)],
        cellx(x: 1, y: 41)[[-0.2872, -0.1861]],
        cellx(x: 2, y: 40)[-0.3189#ps.at(3)],
        cellx(x: 2, y: 41)[[-0.3463, -0.2914]],
        cellx(x: 0, y: 66, align: name_align)[religion_c: Protestant & religion_c_a: Mixed],
        cellx(x: 1, y: 66)[0.2634#ps.at(3)],
        cellx(x: 1, y: 67)[[0.1857, 0.341]],
        cellx(x: 2, y: 66)[0.2782#ps.at(3)],
        cellx(x: 2, y: 67)[[0.234, 0.3224]],
        cellx(x: 0, y: 68, align: name_align)[degree & degree_mean_a],
        cellx(x: 1, y: 68)[3.2089#ps.at(3)],
        cellx(x: 1, y: 69)[[1.9513, 4.4665]],
        cellx(x: 2, y: 68)[3.3729#ps.at(3)],
        cellx(x: 2, y: 69)[[2.5819, 4.1639]],
        cellx(x: 0, y: 72, align: name_align)[wealth_d1_4 & wealth_d1_4_mean_a],
        cellx(x: 1, y: 72)[3.5965#ps.at(3)],
        cellx(x: 1, y: 73)[[2.8317, 4.3613]],
        cellx(x: 2, y: 72)[4.0728#ps.at(3)],
        cellx(x: 2, y: 73)[[3.6057, 4.5399]],
        hlinex(start: 1, y: 82, stroke: 0.05em),
        cellx(x: 0, y: 82, align: name_align)[perceiver var.],
        cellx(x: 0, y: 83, align: name_align)[village_code var.],
        cellx(x: 0, y: 84, align: name_align)[N#sub[groups]],
        cellx(x: 1, y: 82)[1.2433],
        cellx(x: 1, y: 83)[0.2024],
        cellx(x: 1, y: 84)[9943, 82],
        cellx(x: 2, y: 82)[1.3874],
        cellx(x: 2, y: 83)[0.2677],
        cellx(x: 2, y: 84)[9940, 82],
        hlinex(start: 1, y: 85, stroke: 0.05em),
        cellx(x: 0, y: 85, align: name_align)[N],
        cellx(x: 0, y: 87, align: name_align)[BIC],
        cellx(x: 0, y: 86, align: name_align)[AIC],
        cellx(x: 1, y: 85)[175316],
        cellx(x: 1, y: 87)[129846.7026],
        cellx(x: 1, y: 86)[129443.7287],
        cellx(x: 2, y: 85)[448062],
        cellx(x: 2, y: 87)[421252.9351],
        cellx(x: 2, y: 86)[420790.4022],
        hlinex(y: 88, stroke: 0.1em),
        cellx(y: 88, colspan: 3, align: left)[Note: #ps.at(0)$p<0.1$; #ps.at(1)$p<0.05$; #ps.at(2)$p<0.005$; #ps.at(3)$p<0.001$],
    ),
    caption: flex-caption(
        [Social network response model. Models of the individual cognizer responses on the determinants of accuracy with respondent, tie, and village characteristics.],
        [Social network response model]
    ),
    kind: table,
) <mainmodel>
